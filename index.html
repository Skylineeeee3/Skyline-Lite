<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Skyline Lite</title>
<style>
  body {
    margin: 0;
    font-family: system-ui, sans-serif;
    background: #0f1220;
    color: #eaeaff;
    display: flex;
    flex-direction: column;
    height: 100vh;
  }
  header {
    padding: 12px;
    background: #151a33;
    text-align: center;
    font-weight: bold;
    letter-spacing: 1px;
  }
  #chat {
    flex: 1;
    padding: 16px;
    overflow-y: auto;
  }
  .msg {
    margin-bottom: 12px;
    max-width: 80%;
  }
  .user {
    align-self: flex-end;
    background: #4b5cff;
    color: white;
    padding: 10px;
    border-radius: 12px 12px 0 12px;
  }
  .ai {
    align-self: flex-start;
    background: #1e2448;
    padding: 10px;
    border-radius: 12px 12px 12px 0;
  }
  footer {
    display: flex;
    padding: 12px;
    background: #151a33;
  }
  input {
    flex: 1;
    padding: 10px;
    border-radius: 8px;
    border: none;
    outline: none;
    font-size: 16px;
  }
  button {
    margin-left: 8px;
    padding: 10px 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    background: #4b5cff;
    color: white;
    font-weight: bold;
  }
</style>
</head>
<body>

<header>ðŸŒ† Skyline Lite</header>

<div id="chat"></div>

<footer>
  <input id="input" placeholder="Talk to Skyline Lite..." />
  <button onclick="send()">Send</button>
</footer>

<script>
const API_KEY = "PASTE_YOUR_OPENROUTER_KEY_HERE";
const MODEL = "mistralai/devstral-2512:free";

let memory = [
  {
    role: "system",
    content: "You are Skyline Lite. You are fast, lightweight, helpful, concise, and friendly. You explain things clearly without overcomplicating."
  }
];

function addMessage(text, type) {
  const chat = document.getElementById("chat");
  const div = document.createElement("div");
  div.className = "msg " + type;
  div.textContent = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

async function send() {
  const input = document.getElementById("input");
  const text = input.value.trim();
  if (!text) return;

  input.value = "";
  addMessage(text, "user");
  memory.push({ role: "user", content: text });

  addMessage("Skyline Lite is thinkingâ€¦", "ai");

  try {
    const res = await fetch("https://openrouter.ai/api/v1/chat/completions", {
      method: "POST",
      headers: {
        "Authorization": "Bearer " + API_KEY,
        "Content-Type": "application/json",
        "HTTP-Referer": "http://localhost",
        "X-Title": "Skyline Lite"
      },
      body: JSON.stringify({
        model: MODEL,
        messages: memory
      })
    });

    const data = await res.json();
    const reply = data.choices[0].message.content;

    // Remove thinking message
    document.querySelector(".ai:last-child").remove();

    addMessage(reply, "ai");
    memory.push({ role: "assistant", content: reply });

  } catch (err) {
    document.querySelector(".ai:last-child").remove();
    addMessage("Error connecting to OpenRouter.", "ai");
    console.error(err);
  }
}

document.getElementById("input").addEventListener("keydown", e => {
  if (e.key === "Enter") send();
});
</script>

</body>
</html>
